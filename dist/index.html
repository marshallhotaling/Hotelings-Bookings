<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webpack Starter Kit</title>
</head>
<body>

<div class ="loginPage">
  <img src="./images/turing-logo.png" alt="turing logo">
  <div class="userItems">
    <label class="nameLabel">
      Username :
      <input type="text" class="userNInput">
    </label>
    <label class="paswordLabel">
      Password :
      <input type="text" class="userPInput">
    </label>
    <button type="button" class="enterUserButton">enter</button>
  </div>
  <div class="titleLabel">
    <label class="title">Hoteling's Bookings</label>
  </div>
</div>

`

<div class="dashBoard hidden">
  <div class="menu">
    <button type="button"  class="homeButton">Home</button>
    <button type="button" class="currentButton">Bookings</button>
    <button type="button" class="BookingButton">Book A Room</button>
    <button type="button" class="logOutButton">Log Out</button>
  </div>
  <div class="mainPage">
    <div class="currentBookingsPage hidden">
      <label class="currrentHeading">Current Bookings</label>
      <label class="currentTotal">Total:</label>
      <div class="currentBookingsData">
        <label class="currentDate">Date</label>
        <label class="currentRoomNumber">Room Number</label>
        <label class="currentPrice">Price</label>
      </div>
      <div class="currentData">

      </div>

    </div>

    <div class="historyBookingsPage hidden">
      <label class="historyHeading">Past Booking's</label>
      <label class="historyTotal">Total:</label>
      <div class="historyBookingsData">
        <label class="historyDate">Date</label>
        <label class="historyRoomNumber">Room Number</label>
        <label class="historyPrice">Price</label>
      </div>

    </div>
    <div class="homePage">
      <label class="homeWelcomeHeading">Dashboard - Welcome</label>

    </div>
    <div class="bookingPage hidden">
      <label class="bookingHeading">Here Is Our Availability</label>
      <div class="bookingFilterOPtions">
        <label for="bookedDate">date:</label>
        <input type="date" id="bookedDate">
        <label for="roomType">Choose a Room Type:</label>
        <select id="roomType" >
          <option value="allRoom">all</option>
          <option value="single room">single room</option>
          <option value="junior suite">junior suite</option>
          <option value="residential suite">residential suite</option>
          <option value="suite">suite</option>
        </select>
        <input value="submit" class="dataSubmit" type="submit">
      </div>
      <div class="availabilityData" onclick="selectedRoom(1)">
        <label class="availabilityRoomNumber">Room Number</label>
        <label class="availabilityRoomNumber">Bed Size</label>
        <label class="availabilityPrice">Price</label>

      </div>
      <div class="currentAvailData">

      </div>

    </div>
  </div>

</div>



<!-- Do not include the scripts.js or class files here - it is done by the webpack server -->
<script src="bundle.js"></script>
<script>
  // post to the dattaBase
  function selectedRoom(userId, roomNumber, year, month, day){
    console.log(userId, roomNumber, year, month, day)

    const postData = (data) => {
      return fetch(`http://localhost:3001/api/v1/bookings`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data),
      })
              .then(response => {
                if (response.status !== 201) {
                  throw new Error(`POST ERROR: Resource not created >>> STATUS ${response.status} - ${response.statusText}`)
                }
                return response.json()
              })
              .then(data => data)
              .catch(error => alert(`POST ERROR >>> STATUS ${error.status} - ${error.statusText}`))
    }


    postData({ "userID": userId, "date": year+'/'+month+'/'+day, "roomNumber": roomNumber }).then(() => {
      alert(`Resurvation for Date of ${year+'/'+month+'/'+day} for Room ${roomNumber} Complete !!`)
    })
  }
</script>
</body>
</html>
